<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Words&Pages - Add new Items</title>

<link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
<script src="/bootstrap/css/bootstrap.js"></script>






</head>
<body>
	<div class="container-fluid">
		<div th:replace="fragments/header3"></div></div>
		
		<div class="container-xxl">
		<h1>Add new Book</h1>
		<form class="needs-validation" th:action="@{/books/save}" novalidate
			method="post" th:object="${books}" enctype="multipart/form-data">

			<div class="mb-3 col-5">
				<label for="bk_name" class="form-label">Name:</label> <input
					id="bk_name" type="text" class="form-control" th:field="*{name}"
					required minlength=1 maxlength=100>

				<div class="invalid-feedback">Book Title length must be 1 and
					100 characters!</div>

				<!-- Back-End code -->
				<p class="text-danger" th:if="${#fields.hasErrors('name')}"
					th:errors="*{name}">
			</div>



			<div class="mb-3 col-5">
				<label for="bk_series" class="form-label">Book Series:</label> <input
					id="bk_series" type="text" class="form-control"
					th:field="*{bkseries}" />
			</div>





			<div class="mb-3 col-5">
				<label for="bk_type" class="form-label">Book Type:</label> <input
					id="bk_type" type="text" class="form-control" th:field="*{bktype}"
					required minlength=8 maxlength=50>

				<div class="invalid-feedback">Book Type length must be 8 and
					50 characters!</div>

				<p class="text-danger" th:if="${#fields.hasErrors('bktype')}"
					th:errors="*{bktype}">
			</div>

	

			<div class="mb-3 col-5">
				<label for="price" class="form-label">Price:</label> <input
					id="price" type="number" class="form-control" th:field="*{price}"
					required min="0.01" step="0.01" />
				<div class="invalid-feedback">Book Price must be positive
					numerical values</div>
				<p class="text-danger" th:if="${#fields.hasErrors('price')}"
					th:errors="*{price}">
			</div>


			<div class="mb-3 col-5">
				<label for="qty" class="form-label">Quantity:</label> <input
					id="qty" type="text" class="form-control" th:field="*{quantity}"
					required pattern=^[1-9]\d*$>
				<div class="invalid-feedback">Item Quantity must be positive
					whole numbers</div>
				<p class="text-danger" th:if="${#fields.hasErrors('quantity')}"
					th:errors="*{quantity}">
			</div>

			<div class="mb-3 col-5">
				<label for="author" class="form-label">Author:</label> <input
					id="author" type="text" class="form-control" th:field="*{author}"
					required minlength=5 maxlength=100>
				<div class="invalid-feedback">Author's Name length must be 5
					and 100 characters!</div>
				<p class="text-danger" th:if="${#fields.hasErrors('author')}"
					th:errors="*{author}">
			</div>

			<div class="mb-3 col-5">
				<label for="genre" class="form-label">Genre:</label> <input
					id="genre" type="text" class="form-control" th:field="*{genre}" 
required minlength=5 maxlength=100>
				<div class="invalid-feedback">Genre's length must be 5 and 100 characters!</div>
				<p class="text-danger" th:if="${#fields.hasErrors('genre')}"
					th:errors="*{genre}">
			</div>

			<div class="mb-3 col-5">
				<label for="des" class="form-label">Descriptions:</label> <textarea
					rows="10" cols="50"  class="form-control" th:field="*{descriptions}"
					required minlength=5 maxlength=5000></textarea>
				<div class="invalid-feedback">Description length must be 5 and 5000 characters!</div>
				<p class="text-danger" th:if="${#fields.hasErrors('descriptions')}"
					th:errors="*{descriptions}">
			</div>

				<div class="mb-3 col-5">
					<label for="category" class="form-label">Category: </label> <select
						id="category" class="form-control" th:field="*{category}"
						required>
						<option value="">Choose one</option>
						<option th:each="cat : ${catList}" th:value="${cat.id}"
							th:text="${cat.name}"></option>
					</select>
					<div class="invalid-feedback">Category Choice is required.</div>
				</div>

			<div class="mb-3 col-5">
			<label for="bookImage" class="form-label">
				Book image:</label> <input type="file" class="form-control" id="bookImage"name=bookImage
					accept="image/png,image/jpeg"/>
					
					<div class="invalid-feedback">Book Image is required</div>
			</div>



			<div class="mt-3">
				<button type="submit" class="btn btn-primary">Add Books</button>
			</div>
			
			<!-- Validation Code -Start -->
				<script>
					'use strict'
					var form = document.querySelector('.needs-validation')
					form.addEventListener('submit', function(event) {
						if (!form.checkValidity()) {

							event.preventDefault()
							event.stopPropagation()

						}

						form.classList.add('was-validated')

					})
				</script>
				<!-- Validation Code -End -->
			

		</form>
		
	</div>
</body>
</html>